import { NextResponse } from \"next/server\";\n\nexport async function GET(req: Request) {\n  const { searchParams } = new URL(req.url);\n  const address = searchParams.get(\"address\");\n  if (!address) return NextResponse.json({ error: \"Missing address\" }, { status: 400 });\n\n  try {\n    const res = await fetch(\n      `https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(\n        address\n      )}&key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY}`\n    );\n\n    const data = await res.json();\n    if (data.status !== 'OK' || !data.results || data.results.length === 0) {\n      return NextResponse.json({ valid: false, error: data.error_message || 'Invalid address' }, { status: 400 });\n    }\n\n    const result = data.results[0];\n    const { lat, lng } = result.geometry.location;\n\n    return NextResponse.json({\n      valid: true,\n      formatted: result.formatted_address,\n      lat,\n      lng,\n      types: result.types,\n    });\n  } catch (err) {\n    console.error(\"Address verify error:\", err);\n    return NextResponse.json({ error: \"Address lookup failed\" }, { status: 500 });\n  }\n}\n